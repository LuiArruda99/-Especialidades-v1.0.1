{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport MapView, { Callout, Marker, PROVIDER_GOOGLE } from 'react-native-maps';\nimport mapMaker from \"../images/map-marker.png\";\nimport { Feather } from '@expo/vector-icons';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\nimport { RectButton } from 'react-native-gesture-handler';\nimport api from \"../services/api\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function OrphanagesMap() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    orphanages = _useState2[0],\n    setOrphanages = _useState2[1];\n  var navigate = useNavigation();\n  useFocusEffect(function () {\n    api.get('orphanages').then(function (response) {\n      setOrphanages(response.data);\n    });\n  });\n  function handleNavigateToOrphanageDetails(id) {\n    navigate.navigate('OrphanageDetails', {\n      id: id\n    });\n  }\n  function handleNavigateToCreateOrphanage() {\n    navigate.navigate('SelectMapPosition');\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(MapView, {\n      provider: PROVIDER_GOOGLE,\n      style: styles.map,\n      initialRegion: {\n        latitude: -23.551489,\n        longitude: -46.6111175,\n        latitudeDelta: 0.008,\n        longitudeDelta: 0.008\n      },\n      children: orphanages.map(function (orphanage) {\n        return _jsx(Marker, {\n          icon: mapMaker,\n          coordinate: {\n            latitude: orphanage.latitude,\n            longitude: orphanage.longitude\n          },\n          calloutAnchor: {\n            x: 2.7,\n            y: 0.8\n          },\n          children: _jsx(Callout, {\n            tooltip: true,\n            onPress: function onPress() {\n              return handleNavigateToOrphanageDetails(orphanage.id);\n            },\n            children: _jsx(View, {\n              style: styles.calloutContainer,\n              children: _jsxs(Text, {\n                style: styles.calloutText,\n                children: [\" \", orphanage.name]\n              })\n            })\n          })\n        }, orphanage.id);\n      })\n    }), _jsxs(View, {\n      style: styles.footer,\n      children: [_jsxs(Text, {\n        style: styles.footerText,\n        children: [orphanages.length, \" orfanatos encontrados\"]\n      }), _jsx(RectButton, {\n        style: styles.createOrphanageButton,\n        onPress: handleNavigateToCreateOrphanage,\n        children: _jsx(Feather, {\n          name: \"plus\",\n          size: 20,\n          color: \"#FFF\"\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  map: {\n    width: Dimensions.get('screen').width,\n    height: Dimensions.get('screen').height\n  },\n  calloutContainer: {\n    width: 160,\n    height: 46,\n    paddingHorizontal: 16,\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\n    borderRadius: 16,\n    justifyContent: 'center',\n    elevation: 3\n  },\n  calloutText: {\n    color: '#0089a5',\n    fontSize: 14,\n    fontFamily: 'Nunito_700Bold'\n  },\n  footer: {\n    position: 'absolute',\n    left: 24,\n    right: 24,\n    bottom: 32,\n    backgroundColor: '#fff',\n    borderRadius: 20,\n    height: 56,\n    paddingLeft: 24,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    elevation: 3\n  },\n  footerText: {\n    fontFamily: 'Nunito_700Bold',\n    color: '#8fa7b3'\n  },\n  createOrphanageButton: {\n    width: 56,\n    height: 56,\n    backgroundColor: '#15c3d6',\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","MapView","Callout","Marker","PROVIDER_GOOGLE","mapMaker","Feather","StyleSheet","View","Text","Dimensions","useNavigation","useFocusEffect","RectButton","api","jsxs","_jsxs","jsx","_jsx","OrphanagesMap","_useState","_useState2","_slicedToArray","orphanages","setOrphanages","navigate","get","then","response","data","handleNavigateToOrphanageDetails","id","handleNavigateToCreateOrphanage","style","styles","container","children","provider","map","initialRegion","latitude","longitude","latitudeDelta","longitudeDelta","orphanage","icon","coordinate","calloutAnchor","x","y","tooltip","onPress","calloutContainer","calloutText","name","footer","footerText","length","createOrphanageButton","size","color","create","flex","width","height","paddingHorizontal","backgroundColor","borderRadius","justifyContent","elevation","fontSize","fontFamily","position","left","right","bottom","paddingLeft","flexDirection","alignItems"],"sources":["/Users/luizclaudioarruda/Desktop/NLW_Happy2.0/mobile/src/pages/OrphanagesMap.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport MapView, { Callout, Marker, PROVIDER_GOOGLE } from 'react-native-maps';\nimport mapMaker from '../images/map-marker.png';\nimport { Feather } from '@expo/vector-icons';\n\nimport { StyleSheet, View, Text, Dimensions } from 'react-native';\nimport { useNavigation, useFocusEffect } from '@react-navigation/native';\nimport { RectButton } from 'react-native-gesture-handler';\nimport api from '../services/api';\n\ninterface Orphanage {\n  id: number;\n  name: string;\n  latitude: number;\n  longitude: number;\n}\n\nexport default function OrphanagesMap() {\n  const [orphanages, setOrphanages] = useState<Orphanage[]>([]);\n  const navigate = useNavigation();\n\n  useFocusEffect(() => {\n    api.get('orphanages').then((response) => {\n      setOrphanages(response.data);\n    });\n  });\n\n  function handleNavigateToOrphanageDetails(id: number) {\n    navigate.navigate('OrphanageDetails', { id });\n  }\n\n  function handleNavigateToCreateOrphanage() {\n    navigate.navigate('SelectMapPosition');\n  }\n\n  return (\n    <View style={styles.container}>\n      <MapView\n        provider={PROVIDER_GOOGLE}\n        style={styles.map}\n        initialRegion={{\n          latitude: -23.551489,\n          longitude: -46.6111175,\n          latitudeDelta: 0.008,\n          longitudeDelta: 0.008,\n        }}\n      >\n        {orphanages.map((orphanage) => {\n          return (\n            <Marker\n              key={orphanage.id}\n              icon={mapMaker}\n              coordinate={{\n                latitude: orphanage.latitude,\n                longitude: orphanage.longitude,\n              }}\n              calloutAnchor={{\n                x: 2.7,\n                y: 0.8,\n              }}\n            >\n              <Callout\n                tooltip\n                onPress={() => handleNavigateToOrphanageDetails(orphanage.id)}\n              >\n                <View style={styles.calloutContainer}>\n                  <Text style={styles.calloutText}> {orphanage.name}</Text>\n                </View>\n              </Callout>\n            </Marker>\n          );\n        })}\n      </MapView>\n\n      <View style={styles.footer}>\n        <Text style={styles.footerText}>\n          {orphanages.length} orfanatos encontrados\n        </Text>\n\n        <RectButton\n          style={styles.createOrphanageButton}\n          onPress={handleNavigateToCreateOrphanage}\n        >\n          <Feather name=\"plus\" size={20} color=\"#FFF\" />\n        </RectButton>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n\n  map: {\n    width: Dimensions.get('screen').width,\n    height: Dimensions.get('screen').height,\n  },\n\n  calloutContainer: {\n    width: 160,\n    height: 46,\n    paddingHorizontal: 16,\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\n    borderRadius: 16,\n    justifyContent: 'center',\n    elevation: 3,\n  },\n\n  calloutText: {\n    color: '#0089a5',\n    fontSize: 14,\n    fontFamily: 'Nunito_700Bold',\n  },\n\n  footer: {\n    position: 'absolute',\n    left: 24,\n    right: 24,\n    bottom: 32,\n\n    backgroundColor: '#fff',\n    borderRadius: 20,\n    height: 56,\n    paddingLeft: 24,\n\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n\n    elevation: 3,\n  },\n\n  footerText: {\n    fontFamily: 'Nunito_700Bold',\n    color: '#8fa7b3',\n  },\n\n  createOrphanageButton: {\n    width: 56,\n    height: 56,\n    backgroundColor: '#15c3d6',\n    borderRadius: 20,\n\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}